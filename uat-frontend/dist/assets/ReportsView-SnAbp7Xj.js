import{_ as k,c as n,o as c,b as e,t as a,n as u,e as o,h as D,w as L,g as R,l as F,a as g,F as P,d as A,s as T}from"./index-C8O2CauJ.js";import{C as y,r as I}from"./chart-DEDOqaXV.js";const $={class:"card-body"},M={class:"card-title"},V={__name:"ReportCard",props:{title:String,value:Number,color:{type:String,default:"primary"}},setup(r){return(d,l)=>(c(),n("div",{class:u(["card","report-card",`border-${r.color}`])},[e("div",$,[e("h5",M,a(r.title),1),e("h2",{class:u(["card-value",`text-${r.color}`])},a(r.value),3)])],2))}},h=k(V,[["__scopeId","data-v-359f1e9a"]]),z={class:"reports-view"},H={class:"container"},N={class:"d-flex justify-content-between align-items-center mb-4"},O={class:"row mb-4"},E={class:"col-md-4"},j={class:"col-md-4"},U={class:"col-md-4"},W={class:"row"},Z={class:"col-md-6"},q={class:"card mb-4"},G={class:"card-body"},J={class:"chart-container"},K={class:"col-md-6"},Q={class:"card mb-4"},X={class:"card-body"},Y={class:"chart-container"},ee={class:"card"},se={class:"card-body"},te={class:"table table-bordered table-hover"},ae={__name:"ReportsView",setup(r){y.register(...I);const d=o("7"),l=o({totalTests:120,passedTests:90,failedTests:30}),_=o([{id:1,testCase:"Login Test",status:"Passed",severity:"Low",executedBy:"Tester A"},{id:2,testCase:"API Test",status:"Failed",severity:"High",executedBy:"Tester B"},{id:3,testCase:"Signup Test",status:"Blocked",severity:"Medium",executedBy:"Tester C"},{id:4,testCase:"Logout Test",status:"Passed",severity:"Low",executedBy:"Tester A"}]),f=o(_.value),p=o(null),m=o(null);let v=null,b=null;const C=async()=>{v&&v.destroy(),await T(),v=new y(p.value,{type:"doughnut",data:{labels:["Passed","Failed","Blocked"],datasets:[{data:[l.value.passedTests,l.value.failedTests,10],backgroundColor:["#28a745","#dc3545","#ffc107"],hoverOffset:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"#333",font:{size:14}}}}}})},w=async()=>{b&&b.destroy(),await T(),b=new y(m.value,{type:"bar",data:{labels:["Low","Medium","High"],datasets:[{label:"Defects by Severity",data:[40,35,25],backgroundColor:["#17a2b8","#ffc107","#dc3545"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{ticks:{color:"#333"}},y:{ticks:{color:"#333",stepSize:10,beginAtZero:!0}}},plugins:{legend:{position:"top",labels:{color:"#333",font:{size:14}}}}}})},x=i=>{switch(i){case"Passed":return"badge bg-success";case"Failed":return"badge bg-danger";case"Blocked":return"badge bg-warning text-dark";default:return"badge bg-secondary"}},S=i=>{switch(i){case"Low":return"badge bg-info";case"Medium":return"badge bg-warning text-dark";case"High":return"badge bg-danger";default:return"badge bg-secondary"}},B=()=>{console.log(`Filtering reports for last ${d.value} days...`),f.value=_.value};return D(()=>{C(),w()}),L(d,()=>{C(),w()}),(i,s)=>(c(),n("div",z,[e("div",H,[e("div",N,[s[2]||(s[2]=e("h2",{class:"fw-bold"},"Reports",-1)),e("div",null,[R(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>d.value=t),class:"form-select",onChange:B},s[1]||(s[1]=[e("option",{value:"7"},"Last 7 Days",-1),e("option",{value:"30"},"Last 30 Days",-1),e("option",{value:"90"},"Last 90 Days",-1)]),544),[[F,d.value]])])]),e("div",O,[e("div",E,[g(h,{title:"Total Tests",value:l.value.totalTests,color:"primary"},null,8,["value"])]),e("div",j,[g(h,{title:"Passed Tests",value:l.value.passedTests,color:"success"},null,8,["value"])]),e("div",U,[g(h,{title:"Failed Tests",value:l.value.failedTests,color:"danger"},null,8,["value"])])]),e("div",W,[e("div",Z,[e("div",q,[e("div",G,[s[3]||(s[3]=e("h5",{class:"card-title"},"Test Status Overview",-1)),e("div",J,[e("canvas",{ref_key:"statusChart",ref:p},null,512)])])])]),e("div",K,[e("div",Q,[e("div",X,[s[4]||(s[4]=e("h5",{class:"card-title"},"Defect Severity Overview",-1)),e("div",Y,[e("canvas",{ref_key:"severityChart",ref:m},null,512)])])])])]),e("div",ee,[e("div",se,[s[6]||(s[6]=e("h5",{class:"card-title"},"Detailed Report",-1)),e("table",te,[s[5]||(s[5]=e("thead",{class:"table-dark"},[e("tr",null,[e("th",null,"ID"),e("th",null,"Test Case"),e("th",null,"Status"),e("th",null,"Severity"),e("th",null,"Executed By")])],-1)),e("tbody",null,[(c(!0),n(P,null,A(f.value,t=>(c(),n("tr",{key:t.id},[e("td",null,a(t.id),1),e("td",null,a(t.testCase),1),e("td",null,[e("span",{class:u(x(t.status))},a(t.status),3)]),e("td",null,[e("span",{class:u(S(t.severity))},a(t.severity),3)]),e("td",null,a(t.executedBy),1)]))),128))])])])])])]))}},re=k(ae,[["__scopeId","data-v-670de735"]]);export{re as default};
