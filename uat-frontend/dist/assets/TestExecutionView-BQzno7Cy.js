import{_ as E,c,o,a as e,n as h,F as p,g as b,t as i,q as _,r as d,b as g,m as f,f as x}from"./index-DrsjAiDN.js";import{T as y}from"./TestExecutionModal-C58by3gR.js";const T={props:{testExecutions:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},methods:{getStatusClass(s){switch(s){case"Passed":return"badge badge-success";case"Failed":return"badge badge-danger";case"In Progress":return"badge badge-warning";default:return"badge badge-secondary"}}}},M={class:"table-responsive"},v={class:"table table-striped table-hover"},k={key:0},C={key:1},w=["onClick"];function S(s,t,a,m,r,l){return o(),c("div",M,[e("table",v,[t[2]||(t[2]=e("thead",{class:"thead-dark"},[e("tr",null,[e("th",null,"#"),e("th",null,"Test Case"),e("th",null,"Functionality"),e("th",null,"Status"),e("th",null,"Action")])],-1)),e("tbody",null,[a.loading?(o(),c("tr",k,t[0]||(t[0]=[e("td",{colspan:"5",class:"text-center"},[e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"sr-only"},"Loading...")])],-1)]))):a.testExecutions.length===0?(o(),c("tr",C,t[1]||(t[1]=[e("td",{colspan:"5",class:"text-center"},"No test executions found.",-1)]))):h("",!0),(o(!0),c(p,null,b(a.testExecutions,(n,u)=>(o(),c("tr",{key:n.id},[e("td",null,i(u+1),1),e("td",null,i(n.title),1),e("td",null,i(n.functionality),1),e("td",null,[e("span",{class:_(l.getStatusClass(n.status))},i(n.status||"Pending"),3)]),e("td",null,[e("button",{class:"btn btn-primary btn-sm",onClick:V=>s.$emit("execute",n)},"Execute",8,w)])]))),128))])])])}const B=E(T,[["render",S],["__scopeId","data-v-5e8bd210"]]),F={components:{TestExecutionTable:B,TestExecutionModal:y},data(){return{testExecutions:[],selectedExecution:null,showModal:!1}},methods:{async fetchTestExecutions(){var s;try{const t=await x.get("/test-cases/");this.testExecutions=t.data}catch(t){console.error("Error fetching test executions:",((s=t.response)==null?void 0:s.data)||t.message)}},openExecutionModal(s){this.selectedExecution={...s},this.showModal=!0},closeModal(){this.showModal=!1,this.fetchTestExecutions()},async submitExecution({executionId:s,steps:t}){try{await x.post(`/test-executions/${s}/execute/`,{steps:t}),this.closeModal()}catch(a){console.error("Error submitting execution:",a)}}},mounted(){this.fetchTestExecutions()}},I={class:"container mt-4"};function N(s,t,a,m,r,l){const n=d("TestExecutionTable"),u=d("TestExecutionModal");return o(),c("div",I,[t[0]||(t[0]=e("h2",{class:"mb-4 text-center text-primary"},"Test Execution",-1)),g(n,{testExecutions:r.testExecutions,onExecute:l.openExecutionModal},null,8,["testExecutions","onExecute"]),r.showModal?(o(),f(u,{key:0,execution:r.selectedExecution,onClose:l.closeModal,onSave:l.submitExecution},null,8,["execution","onClose","onSave"])):h("",!0)])}const A=E(F,[["render",N],["__scopeId","data-v-2d7f85aa"]]);export{A as default};
