import{_ as y,c as n,o as a,b as e,F as m,d as x,t as c,n as h,r as v,a as S,g as f,v as T,l as p,m as _}from"./index-BDR-ZV5H.js";const C={props:{executions:Array,sortOrder:String},computed:{sortedExecutions(){return[...this.executions].sort((s,t)=>{const l=new Date(s.execution_date),d=new Date(t.execution_date);return this.sortOrder==="asc"?l-d:d-l})}},methods:{formatDate(s){return new Date(s).toLocaleString()},statusClass(s){return s==="Passed"?"status-pass":"status-fail"}}},b={key:0,class:"table"},g={key:1,class:"no-data-message"};function w(s,t,l,d,o,i){return a(),n("div",null,[l.executions.length>0?(a(),n("table",b,[e("thead",null,[e("tr",null,[e("th",{onClick:t[0]||(t[0]=r=>s.sortBy("test_case"))},"📋 Test Case"),e("th",{onClick:t[1]||(t[1]=r=>s.sortBy("execution_date"))},"📅 Execution Date"),e("th",{onClick:t[2]||(t[2]=r=>s.sortBy("status"))},"📊 Status"),t[3]||(t[3]=e("th",null,"💬 Comments",-1))])]),e("tbody",null,[(a(!0),n(m,null,x(i.sortedExecutions,r=>(a(),n("tr",{key:r.id},[e("td",null,c(r.test_case),1),e("td",null,c(i.formatDate(r.execution_date)),1),e("td",{class:h(i.statusClass(r.status))},c(r.status),3),e("td",null,c(r.comments||"No comments"),1)]))),128))])])):(a(),n("p",g,"🚫 No test executions found."))])}const D=y(C,[["render",w],["__scopeId","data-v-01f1d144"]]),O={components:{TestHistoryTable:D},data(){return{executions:[],searchQuery:"",filterStatus:"",sortOrder:"desc"}},computed:{filteredExecutions(){let s=this.executions;return this.searchQuery&&(s=s.filter(t=>t.test_case.toLowerCase().includes(this.searchQuery.toLowerCase()))),this.filterStatus&&(s=s.filter(t=>t.status===this.filterStatus)),s}},async created(){await this.fetchTestHistory()},methods:{async fetchTestHistory(){try{const s=await _.get("/test-executions");this.executions=s.data}catch(s){console.error("Error fetching test history:",s)}}}},k={class:"test-history-container"},E={class:"filters"};function B(s,t,l,d,o,i){const r=v("TestHistoryTable");return a(),n("div",k,[t[5]||(t[5]=e("h2",{class:"page-title"}," Test Execution History",-1)),e("div",E,[f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>o.searchQuery=u),type:"text",class:"form-control",placeholder:"🔍 Search by Test Case"},null,512),[[T,o.searchQuery]]),f(e("select",{"onUpdate:modelValue":t[1]||(t[1]=u=>o.filterStatus=u),class:"form-control"},t[3]||(t[3]=[e("option",{value:""},"Filter by Status",-1),e("option",{value:"Passed"},"✅ Passed",-1),e("option",{value:"Failed"},"❌ Failed",-1)]),512),[[p,o.filterStatus]]),f(e("select",{"onUpdate:modelValue":t[2]||(t[2]=u=>o.sortOrder=u),class:"form-control"},t[4]||(t[4]=[e("option",{value:"desc"},"Sort by Date (Newest First)",-1),e("option",{value:"asc"},"Sort by Date (Oldest First)",-1)]),512),[[p,o.sortOrder]])]),S(r,{executions:i.filteredExecutions,sortOrder:o.sortOrder},null,8,["executions","sortOrder"])])}const H=y(O,[["render",B],["__scopeId","data-v-400047d0"]]);export{H as default};
