import{_ as g,r as p,c as a,o,a as e,m as h,n as E,b as f,w as D,t as n,d as c,F as T,g as b,f as x}from"./index-DrsjAiDN.js";import{T as M}from"./TestExecutionModal-C58by3gR.js";const y={name:"AssignedTestDetails",components:{TestExecutionModal:M},data(){return{testData:null,showModal:!1,selectedExecution:null}},async created(){const i=this.$route.params.id;try{const t=await x.get(`/test-cases/${i}`);this.testData=t.data}catch(t){console.error("Error fetching test details:",t)}},methods:{showTestExecutionModal(){this.selectedExecution={...this.testData},this.showModal=!0},closeModal(){this.showModal=!1},async submitExecution({executionId:i,steps:t}){try{await x.post(`/test-executions/${i}/execute/`,{steps:t}),this.closeModal()}catch(u){console.error("Error submitting execution:",u)}}}},k={class:"test-details-container"},v={class:"header"},w={key:0,class:"test-content"},C={class:"test-info"},B={class:"test-steps"},S={key:1,class:"loading-message"},N={class:"execute-button"};function V(i,t,u,F,s,r){var d;const m=p("router-link"),_=p("TestExecutionModal");return o(),a("div",k,[e("div",v,[f(m,{to:"/tester/assigned-tests"},{default:D(()=>t[1]||(t[1]=[e("button",{class:"btn btn-outline-primary"},"← Back to Tests",-1)])),_:1}),e("h2",null,n(((d=s.testData)==null?void 0:d.title)||"Test Case Details"),1)]),s.testData?(o(),a("div",w,[e("div",C,[e("p",null,[t[2]||(t[2]=e("strong",null,"Functionality:",-1)),c(" "+n(s.testData.functionality),1)]),e("p",null,[t[3]||(t[3]=e("strong",null,"Description:",-1)),c(" "+n(s.testData.description),1)]),e("p",null,[t[4]||(t[4]=e("strong",null,"Expected Result:",-1)),c(" "+n(s.testData.expected_result),1)])]),e("div",B,[t[5]||(t[5]=e("h3",null,"Test Steps",-1)),e("ul",null,[(o(!0),a(T,null,b(s.testData.steps,l=>(o(),a("li",{key:l.id},[e("strong",null,"Step "+n(l.step_number)+":",1),c(" "+n(l.description),1)]))),128))])])])):(o(),a("div",S,t[6]||(t[6]=[e("p",null,"Loading test details...",-1)]))),e("div",N,[e("button",{class:"btn btn-success",onClick:t[0]||(t[0]=(...l)=>r.showTestExecutionModal&&r.showTestExecutionModal(...l))}," Execute Test ")]),s.showModal?(o(),h(_,{key:2,execution:s.selectedExecution,onClose:r.closeModal,onSave:r.submitExecution},null,8,["execution","onClose","onSave"])):E("",!0)])}const L=g(y,[["render",V],["__scopeId","data-v-27a71b56"]]);export{L as default};
